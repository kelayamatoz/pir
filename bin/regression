#!env/bin/python
import argparse

import os

def main():
    parser = argparse.ArgumentParser(description='Run experiments')
    parser.add_argument('-b', '--backend', type=str, action="append", help='Testing Backend')
    parser.add_argument('-t', '--thread', type=int, default=30, help='Number of threads to run')
    parser.add_argument('-p', '--project', type=str, default="pirTest", help='project name')
    (opts, args) = parser.parse_known_args()
    if (opts.backend is None):
        opts.backend = ['P14x14']
    for backend in opts.backend:
        os.system('bash bin/regression.sh {} {} {}'.format(backend, opts.project, opts.thread))

if __name__ == "__main__":
    main()
